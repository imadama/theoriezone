# TheorieZone – MVP PRD (requirements + acceptatiecriteria)

Datum: 2026-01-26  
Status: concept v1 (op basis van jouw DOCX “Definitieve Functionele Beschrijving” + aanvulling)

## 0. Doel & succes

### Doel
Een multi-tenant SaaS-platform waarmee opleiders/rijscholen leerlingen **theorie laten leren, oefenen en examens laten afleggen**, met **strikte datascheiding per tenant** en duidelijke rolverdeling.

### MVP-succescriteria
- Leerling kan zelfstandig: account activeren → leren → oefenen → examen starten → examen afronden (geslaagd/gezakt) zonder handmatige hulp.
- Instructeur/tenant admin kan voortgang en resultaten inzien per leerling.
- Operationeel Beheerder kan content beheren en uitrollen zonder tenant-data te mengen.
- Data is aantoonbaar gescheiden per tenant (testen/queries/exports).

---

## 1. Scope MVP (In/Out)

### In scope
1) Accounts + rollen + tenant-koppeling
2) Leren (content consumeren) + voortgang
3) Oefenen (vragen) + feedback + zwakke punten
4) Examensimulatie (timed) + resultaat + pogingen
5) Dashboard voor instructeur + tenant admin
6) Operationeel beheer: tenants + content publiceren
7) Volledige datascheiding per tenant

### Out of scope (voor later)
- Tenant branding/white-label (logo/huisstijl/subdomain)
- Betalingen, coupons, “toegangscodes” verkoop
- Geavanceerde proctoring (camera, ID check)
- Content authoring UI (kan later; in MVP kan content seed/import)
- Geavanceerde integraties (PlanGo/Dation etc.)

---

## 2. Rollen & permissies

### Rollen
- **Leerling**: leren/oefenen/examens, eigen voortgang/resultaten.
- **Instructeur**: voortgang/resultaten van leerlingen binnen eigen tenant.
- **Tenantbeheerder**: gebruikersbeheer, instellingen, toegang (binnen tenant).
- **Operationeel Beheerder (platform)**: tenants aanmaken/beheren, content beheren & publiceren.

### MVP permissie-regels (acceptatiecriteria)
- AC-R1: Elke gebruiker is gekoppeld aan **exact 1 tenant**.
- AC-R2: Instructeur kan **nooit** data zien van leerlingen buiten eigen tenant.
- AC-R3: Tenantbeheerder kan binnen tenant users aanmaken/uitnodigen, rollen aanpassen.
- AC-R4: Operationeel beheerder kan content beheren en publiceren, maar kan geen tenant-data “door elkaar” zien/editen.

---

## 3. Multi-tenant model

### Tenant concept
- Tenant = organisatie/rijschool/opleider.
- Elke record in het systeem heeft een `tenant_id` (direct of via owner).

### Acceptatiecriteria
- AC-T1: Elke API query op leerdata/resultaten filtert altijd op `tenant_id` (server-side).
- AC-T2: Exports (CSV/XLSX) bevatten alleen records van de actieve tenant.
- AC-T3: Files (bijv. afbeeldingen) zijn per tenant ge-namespaced (pad bevat tenant_id).

---

## 4. Kern flows (MVP)

### 4.1 Onboarding / login
**Flow (Leerling):** uitnodiging → account activeren → login.

Acceptatiecriteria:
- AC-L1: Leerling kan inloggen en komt in “Mijn leeromgeving”.
- AC-L2: Zonder geldige tenant-koppeling kan een user niet door (foutmelding + support-contact).

### 4.2 Leren (content)
**Concept:** content bestaat uit modules → hoofdstukken → blokken (micro-learning).

Functionaliteit:
- Content lezen/bekijken.
- Voltooien per blok.
- Voortgang per hoofdstuk en overall.

Acceptatiecriteria:
- AC-LE1: Leerling ziet lijst met modules/hoofdstukken met voortgang (%) en laatst bekeken.
- AC-LE2: Een blok markeert als “voltooid” wanneer leerling het einde bereikt (of handmatig bevestigt).
- AC-LE3: Voortgang wordt opgeslagen en hersteld bij opnieuw inloggen.

### 4.3 Oefenen (vragen)
**Concept:** vraagbank met categorieën/topics.

Functionaliteit:
- Oefensessies starten (random of op topic).
- Direct feedback per vraag (goed/fout + korte uitleg).
- Zwakke punten (topics met lage score).

Acceptatiecriteria:
- AC-O1: Leerling kan oefensessie starten met minimaal: aantal vragen + (optioneel) topic.
- AC-O2: Na elke vraag krijgt leerling feedback + uitleg.
- AC-O3: Dashboard toont “zwakke topics” op basis van foutpercentage of laatste N vragen.

### 4.4 Examensimulatie
Zie aparte spec: `theoriezone-exam-mode-spec.md`.

---

## 5. Dashboard (Instructeur/Tenant)

### 5.1 Instructeur dashboard
MVP widgets:
- Overzicht leerlingen (naam, laatste activiteit, voortgang %, laatste examen score, aantal pogingen).
- Detail per leerling: trend + zwakke topics.

Acceptatiecriteria:
- AC-D1: Instructeur kan lijst van leerlingen in eigen tenant zien.
- AC-D2: Instructeur kan doorklikken naar leerlingdetail met oefen- en examenresultaten.

### 5.2 Tenantbeheer dashboard
MVP functies:
- Users beheren (aanmaken/uitnodigen, rollen).
- Tenant-instellingen (basic): examenregels (aantal pogingen max? herkanstermijn? later uitbreiden).

Acceptatiecriteria:
- AC-TB1: Tenantbeheerder kan een leerling uitnodigen (email of code) en rol toewijzen.
- AC-TB2: Tenantbeheerder kan een gebruiker deactiveren (login blokkeren) zonder data te verwijderen.

---

## 6. Operationeel beheer (platform)

MVP functies:
- Tenants aanmaken/beheren.
- Content beheren (minimaal: versie publiceren).

Acceptatiecriteria:
- AC-OP1: Operationeel beheerder kan een tenant aanmaken en een tenantbeheerder toewijzen.
- AC-OP2: Operationeel beheerder kan content “publishen” en tenants zien die die versie gebruiken.

---

## 7. Data & rapportage (minimaal)

### MVP metrics
- Per leerling: voortgang %, oefen accuracy, examen scores, pogingen.
- Per tenant: #actieve leerlingen, gemiddeld score, slagingsratio (examensimulatie).

Acceptatiecriteria:
- AC-M1: Export per tenant admin geeft lijst met leerlingen + hun huidige status.

---

## 8. Open vragen (voor volgende iteratie)
- Talen: NL nu, EN meteen of fase 2?
- Hoe tenants worden gekozen bij login (tenant-code/subdomain/invite link)?
- Content bron: eigen vraagbank of licentie/partner?
